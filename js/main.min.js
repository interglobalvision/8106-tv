var basicAnimationSpeed=800,fastAnimationSpeed=basicAnimationSpeed/2,Twitter={tweetsWidth:void 0,animation:void 0,$twitterFeed:$("#twitter-feed"),$holder:$("#twitter-marquee-holder"),init:function(){var t=this,i=$(".twitter-marquee").first();i.clone().appendTo("#twitter-marquee-holder"),t.tweetsWidth=i.width(),t.startAnimation(),t.bind()},bind:function(){var t=this;t.$twitterFeed.on({"mouseenter.twitterHover":function(){t.stopAnimation()},"mouseleave.twitterHover":function(){t.startAnimation()}})},unbind:function(){this.$twitterFeed.off(".twitterHover")},startAnimation:function(){var t=this;return t.animation=setInterval(function(){var i=parseInt(t.$holder.css("left"));i<-t.tweetsWidth?t.$holder.css("left","0px"):t.$holder.css("left",i-1+"px")},25)},stopAnimation:function(){return clearInterval(this.animation)}},Menu={init:function(){this.bind()},bind:function(){var t=this;return $(".js-nav-trigger").on({"click.nav-trigger":function(){var i=$(this).data("nav-target");t.click(i)}})},unbind:function(){return $(".js-nav-trigger").off("click.nav-trigger")},click:function(t){return $("#drawer-"+t).slideToggle(basicAnimationSpeed)},closeBelowMenu:function(t){var i=this,n="#drawer-follow, #drawer-categorias";return t||(n+=", #drawer-search",i.cleanSearch()),$(n).slideUp(basicAnimationSpeed)},cleanSearch:function(){$("#search-field").val("")}};Ajaxy={init:function(){var t=this;t.firstLoad=!0,t.bindLinks(),t.bindSearchForm(),$(window).bind("popstate",function(i){t.firstLoad||t.load(document.location.origin+document.location.pathname,!1)})},bindLinks:function(){var t=this,i="http://"+top.location.host.toString();t.$ajaxyLinks=$("a[href^='"+i+"'], a[href^='/'], a[href^='./'], a[href^='../'], a[href^='#']"),t.$ajaxyLinks.click(function(i){if(!i.isDefaultPrevented()&&!i.metaKey&&!i.ctrlKey){i.preventDefault();var n=i.currentTarget.href;t.load(n)}})},bindSearchForm:function(){var t=this;$("#search-form").submit(function(i){i.preventDefault();var n=$("#search-field").val();t.load(WP.siteUrl+"/?s="+n)})},reset:function(){var t=this;t.$ajaxyLinks.unbind("click"),t.bindLinks()},load:function(t,i){var n=this;n.firstLoad=!1,i="undefined"!=typeof i?i:!0,i&&history.pushState(null,null,t),$.ajax(t,{beforeSend:function(t,i){n.ajaxBefore(i.url)},dataType:"html",error:function(t,i){n.ajaxErrorHandler(t,i)},success:function(i){n.ajaxSuccess(i,t)},complete:function(){n.ajaxAfter()}})},ajaxBefore:function(t){var i=!1;t.indexOf("/?s=")>-1&&(i=!0),Menu.closeBelowMenu(i),$("body").addClass("loading"),$("body, html").animate({scrollTop:0},basicAnimationSpeed)},ajaxAfter:function(){var t=this;$("body").removeClass("loading"),t.reset(),Site.reinit()},ajaxErrorHandler:function(t,i){console.log(t)},ajaxSuccess:function(t,i){var n=document.createElement("html");n.innerHTML=t;var e=$("body",n).attr("class"),a=$("#main-content",n),r=$("title",n).text();document.title=r,$("#main-content").html(a.html()),$("body").removeAttr("class").addClass(e+" loading")}},Site={init:function(){var t=this;t.bindVerMas(),t.fixWidows(),Ajaxy.init(),Twitter.init(),Menu.init()},reinit:function(){var t=this;t.bindVerMas(),t.fixWidows(),Twitter.init()},bindVerMas:function(){$("#more-posts").on({click:function(t){var i=$(this),n=i.offset();i.hasClass("js-next-page")?Ajaxy.load(i.data("href")):($(".feed-post.u-hidden").removeClass("u-hidden"),i.addClass("js-next-page"),$("body, html").animate({scrollTop:n.top-35},basicAnimationSpeed))}})},fixWidows:function(){$(".js-fix-widows").each(function(){var t=$(this).html();t=t.replace(/ ([^ ]*)$/,"&nbsp;$1"),$(this).html(t)})}},jQuery(document).ready(function(){"use strict";Site.init()});
//# sourceMappingURL=main.min.js.map
