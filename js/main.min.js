var basicAnimationSpeed=800,fastAnimationSpeed=basicAnimationSpeed/2,Twitter={tweetsWidth:void 0,animation:void 0,$twitterFeed:$("#twitter-feed"),$holder:$("#twitter-marquee-holder"),init:function(){var t=this,e=$(".twitter-marquee").first();e.clone().appendTo("#twitter-marquee-holder"),t.tweetsWidth=e.width(),t.startAnimation(),t.bind()},bind:function(){var t=this;t.$twitterFeed.on({"mouseenter.twitterHover":function(){t.stopAnimation()},"mouseleave.twitterHover":function(){t.startAnimation()}})},unbind:function(){this.$twitterFeed.off(".twitterHover")},startAnimation:function(){var t=this;return t.animation=setInterval(function(){var e=parseInt(t.$holder.css("left"));e<-t.tweetsWidth?t.$holder.css("left","0px"):t.$holder.css("left",e-1+"px")},25)},stopAnimation:function(){return clearInterval(this.animation)}},Menu={init:function(){this.bind()},bind:function(){var t=this;return $(".js-nav-trigger").on({"click.nav-trigger":function(){var e=$(this).data("nav-target");t.click(e)}})},unbind:function(){return $(".js-nav-trigger").off("click.nav-trigger")},click:function(t){return $("#drawer-"+t).slideToggle(basicAnimationSpeed)},closeBelowMenu:function(t){var e=this,n="#drawer-follow, #drawer-categorias";return t||(n+=", #drawer-search",e.cleanSearch()),$(n).slideUp(basicAnimationSpeed)},cleanSearch:function(){$("#search-field").val("")}};Ajaxy={init:function(){var t=this;t.firstLoad=!0,t.bindLinks(),t.bindSearchForm(),$(window).bind("popstate",function(e){t.firstLoad||t.load(document.location.origin+document.location.pathname,!1)})},bindLinks:function(){var t=this,e="http://"+top.location.host.toString();t.$ajaxyLinks=$("a[href^='"+e+"'], a[href^='/'], a[href^='./'], a[href^='../'], a[href^='#']"),t.$ajaxyLinks.click(function(e){if(!e.isDefaultPrevented()&&!e.metaKey&&!e.ctrlKey){e.preventDefault();var n=e.currentTarget.href;t.load(n)}})},bindSearchForm:function(){var t=this;$("#search-form").submit(function(e){e.preventDefault();var n=$("#search-field").val();t.load("/?s="+n)})},reset:function(){var t=this;t.$ajaxyLinks.unbind("click"),t.bindLinks()},load:function(t,e){var n=this;n.firstLoad=!1,e="undefined"!=typeof e?e:!0,e&&history.pushState(null,null,t),$.ajax(t,{beforeSend:function(t,e){n.ajaxBefore(e.url)},dataType:"html",error:function(t,e){n.ajaxErrorHandler(t,e)},success:function(e){n.ajaxSuccess(e,t)},complete:function(){n.ajaxAfter()}})},ajaxBefore:function(t){var e=!1;t.indexOf("/?s=")>-1&&(e=!0),Menu.closeBelowMenu(e),$("body").addClass("loading"),$("body, html").animate({scrollTop:0},basicAnimationSpeed)},ajaxAfter:function(){var t=this;$("body").removeClass("loading"),t.reset(),Twitter.init()},ajaxErrorHandler:function(t,e){console.log(t)},ajaxSuccess:function(t,e){var n=document.createElement("html");n.innerHTML=t;var i=$("body",n).attr("class"),a=$("#main-content",n),r=$("title",n).text();document.title=r,$("#main-content").html(a.html()),$("body").removeAttr("class").addClass(i+" loading")}},jQuery(document).ready(function(){"use strict";$(".js-fix-widows").each(function(){var t=$(this).html();t=t.replace(/ ([^ ]*)$/,"&nbsp;$1"),$(this).html(t)}),Twitter.init(),Menu.init(),Ajaxy.init(),$("#more-posts").on({click:function(t){var e=$(this);e.hasClass("js-next-page")?Ajaxy.load(e.data("href")):($(".feed-post.u-hidden").removeClass("u-hidden"),e.addClass("js-next-page"))}})});
//# sourceMappingURL=main.min.js.map
